<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Cosine similarity · LSH.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">LSH.jl</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Similarity functions</span><ul><li class="is-active"><a class="tocitem" href>Cosine similarity</a><ul class="internal"><li><a class="tocitem" href="#SimHash-1"><span>SimHash</span></a></li><li><a class="tocitem" href="#Utilities-1"><span>Utilities</span></a></li></ul></li><li><a class="tocitem" href="../lp_distance/"><span>$\ell^p$</span> distance</a></li><li><a class="tocitem" href="../jaccard/">Jaccard similarity</a></li><li><a class="tocitem" href="../inner_prod/">Inner product similarity</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Similarity functions</a></li><li class="is-active"><a href>Cosine similarity</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Cosine similarity</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/kernelmethod/LSH.jl/blob/master/docs/src/similarities/cosine.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Cosine-similarity-1"><a class="docs-heading-anchor" href="#Cosine-similarity-1">Cosine similarity</a><a class="docs-heading-anchor-permalink" href="#Cosine-similarity-1" title="Permalink"></a></h1><h2 id="SimHash-1"><a class="docs-heading-anchor" href="#SimHash-1">SimHash</a><a class="docs-heading-anchor-permalink" href="#SimHash-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="LSH.SimHash" href="#LSH.SimHash"><code>LSH.SimHash</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">SimHash(n_hashes::Integer = 1;
        dtype::DataType = Float32,
        resize_pow2::Bool = false)</code></pre><p>Creates a locality-sensitive hash function for cosine similarity.</p><p><strong>Arguments</strong></p><ul><li><code>n_hashes::Integer</code> (default: <code>1</code>): the number of hash functions to generate.</li></ul><p><strong>Keyword parameters</strong></p><ul><li><code>dtype::DataType</code> (default: <code>Float32</code>): the data type to use in the LSH.SimHash internals. For performance reasons you should pick <code>dtype</code> to match the type of the data you&#39;re hashing.</li><li><code>resize_pow2::Bool</code> (default: <code>false</code>): affects the way in which the returned <code>LSH.SimHash</code> resizes to hash inputs of different sizes. If you think you&#39;ll be hashing inputs of many different sizes, it&#39;s more efficient to set <code>resize_pow2 = true</code>.</li></ul><p><strong>Examples</strong></p><p>Construct a hash function by calling <code>SimHash</code> with the number of hash functions you want to generate:</p><pre><code class="language-julia-repl">julia&gt; hashfn = SimHash(24);

julia&gt; n_hashes(hashfn) == 24 &amp;&amp;
       similarity(hashfn) == cossim
true</code></pre><p>You can then call <code>hashfn(x)</code> in order to compute hashes:</p><pre><code class="language-julia-repl">julia&gt; hashfn = SimHash(32);

julia&gt; x = randn(30);

julia&gt; hashes = hashfn(x);
</code></pre><p><strong>References</strong></p><ul><li>Moses S. Charikar. <em>Similarity estimation techniques from rounding algorithms</em>. In Proceedings of the Thiry-Fourth Annual ACM Symposium on Theory of Computing, STOC &#39;02, page 380–388, New York, NY, USA, 2002. Association for Computing Machinery. 10.1145/509907.509965.</li></ul><p>See also: <a href="#LSH.cossim"><code>cossim</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kernelmethod/LSH.jl/blob/fa0994c9b48ccec488e056c403f5883f649b4ea4/src/hashes/simhash.jl#L38-L79">source</a></section></article><h2 id="Utilities-1"><a class="docs-heading-anchor" href="#Utilities-1">Utilities</a><a class="docs-heading-anchor-permalink" href="#Utilities-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="LSH.cossim" href="#LSH.cossim"><code>LSH.cossim</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">cossim(x,y)</code></pre><p>Computes the cosine similarity between two inputs <span>$x$</span> and <span>$y$</span>. Cosine similarity is defined as</p><p><span>$\text{cossim}(x,y) = \frac{\left\langle x,y\right\rangle}{\|x\|\cdot\|y\|}$</span></p><p>where <span>$\left\langle\cdot,\cdot\right\rangle$</span> is an inner product (e.g. dot product) and <span>$\|\cdot\|$</span> is its derived norm. This is roughly interpreted as being related to the angle between the inputs <span>$x$</span> and <span>$y$</span>: when <span>$x$</span> and <span>$y$</span> have low angle between them, <code>cossim(x,y)</code> is high (close to <span>$1$</span>). When <span>$x$</span> and <span>$y$</span> have large angle between them, <code>cossim(x,y)</code> is low (close to <span>$-1$</span>).</p><p><strong>Arguments</strong></p><ul><li><code>x</code> and <code>y</code>: two inputs for which <code>dot(x,y)</code>, <code>norm(x)</code>, and <code>norm(y)</code> are defined.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; using LinearAlgebra: dot, norm;

julia&gt; x, y = rand(4), rand(4);

julia&gt; cossim(x,y) == dot(x,y) / (norm(x) * norm(y))
true

julia&gt; z = rand(5);

julia&gt; cossim(x,z)
ERROR: DimensionMismatch(&quot;dot product arguments have lengths 4 and 5&quot;)</code></pre><p>See also: <a href="#LSH.SimHash"><code>SimHash</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kernelmethod/LSH.jl/blob/fa0994c9b48ccec488e056c403f5883f649b4ea4/src/similarities.jl#L18-L46">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../">« Home</a><a class="docs-footer-nextpage" href="../lp_distance/"><span>$\ell^p$</span> distance »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 17 January 2020 23:15">Friday 17 January 2020</span>. Using Julia version 1.3.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
